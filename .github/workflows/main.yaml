name: caller  

on:
  workflow_dispatch:
    inputs:
      ultrasecretvalue:
        description: 'Segredo não tão segredo assim'
        required: true

jobs:
  generate-secret:
    runs-on: ubuntu-latest
    steps:
      - name: Mask
        id: add_mask
        run: |
          INP_SECRET=$(jq -r '.inputs.ultrasecretvalue' $GITHUB_EVENT_PATH)
          echo $INP_SECRET
          echo SECRET="$INP_SECRET" >> $GITHUB_ENV

      - name: Check environment variables
        env:
          TEST: ${{ env.SECRET }}
        run: |
          echo $SECRET